{% extends "menu.html" %}
{% block nav %}

<nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed top">
  <a class="navbar-brand p-2" href="{{url_for('home')}}">MyNotes</a>
  <ul class="navbar-nav nav nav-pills">
    <li class="nav-item active">
      <a class="nav-link toggle-show-notes" href="{{url_for('menu')}}">See MyNotes</a>
    </li>
    <li class="nav-item toggle-create-notes">
      <a class="nav-link" href="{{url_for('create')}}">Create MyNote</a>
    </li>
  </ul>
  <form class="form-inline my-2 my-lg-0 ml-auto" method="post" action="/filter">
    <input class="form-control mr-sm-2" type="search" placeholder="Search MyNotes" name="filter_notes" aria-label="Search">
    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
  </form>

</nav>
{% endblock %}
{% block list %}

{% if my_notes[0] is defined %}
<div class="row">
  <div class="form-group"></div>
  <label for="orderBySelect">Order By</label>
  <select class="form-control form-control-sm col-md-1 ml-1" id="orderBySelect">
    <option value="title">Title</option>
    <option value="type">Type</option>
    <option value="oldest">Oldest</option>
    <option value="newest">Newest</option>
  </select>
</div>
</div>

<div class="row list-notes">
  
  <br>
  

  <div class="col">
    <ul class="list-group">
      {% for note in my_notes%}
      <li class="list-group-item mt-2">
        <h5>Note Title</h5>
        <p>{{ note["note_title"] }}</p>
        <h5>Note Description</h5>
        <p>{{ note["note_description"] }}</p>
        <h5>Note Creation Date</h5>
        <p>{{ note["note_created_date"] }}</p>
        <div>
          <button id="editNote" type="button" class="btn btn-primary"
            onclick="window.location='{{url_for('edit_note', note_id= note['note_id'])}}';">Edit</button>
          <button id="deleteNote" type="button" class="btn btn-danger"
            onclick="window.location='{{url_for('remove_note', note_id= note['note_id'])}}';">Delete</button>
        </div>
      </li>
      {% endfor %}
    </ul>
  </div>

  {% else %}

    {% if not search_flag %}
    <h3>There are no MyNotes to show at this time.</h3>
    {% else %}
    <h3>There are no MyNotes matching the search.</h3>
    <button class="btn btn-primary"><a style="color: #fff; text-decoration: none;"
      href="{{url_for('menu')}}">Back to MyNotes</a>
    </button>
    {% endif %}
  {% endif %}
</div>
{% endblock %}

{% block create_edit %}
<div class="row notes-form">

  <div class="col mt-3">
    {% if new_note['note_id'] is defined %}
    <form method="post" action="/submit_edit_note/{{ new_note['note_id'] }}">
      {% else %}
      <form method="post" action="/submit_note">
        {% endif %}
        <div class="form-group mt-3">
          <label for="inputNoteTitle">Note Title</label>
          <input type="text" class="form-control" id="inputNoteTitle" placeholder="Enter Note Title"
            name="inputNoteTitle" value="{{ new_note['note_title'] }}">
        </div>
        <div class="form-group mt-3">
          <label for="inputNoteDescription">Note Description</label>
          <textarea type="text" class="form-control" id="inputNoteDescription" aria-describedby="noteDesc"
            placeholder="Enter Note Description"
            name="inputNoteDescription">{{ new_note['note_description'] }}</textarea>
          <small id="noteDesc" class="form-text text-muted">A brief description for your note.</small>
        </div>
        <br>
        {% if new_note['note_id'] is defined %}
        <button type="submit" class="btn btn-primary">Edit</button>
        {% else %}
        <button type="submit" class="btn btn-primary">Create</button>
        {% endif %}
      </form>
  </div>
</div>
</div>
{% endblock %}